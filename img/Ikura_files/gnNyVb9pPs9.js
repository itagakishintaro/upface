/*!CK:233257145!*//*1421682796,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["2EfXZ"]); }

__d("ProfileDOMID",[],function(a,b,c,d,e,f){e.exports={ABOVE_HEADER_TIMELINE:"pagelet_above_header_timeline",ABOVE_HEADER_TIMELINE_PLACEHOLDER:"above_header_timeline_placeholder",COVER:"fbProfileCover",MAIN_COLUMN:"pagelet_main_column",MAIN_COLUMN_PERSONAL:"pagelet_main_column_personal",MAIN_COLUMN_PERSONAL_OTHER:"pagelet_main_column_personal_other",RIGHT_SIDEBAR:"pagelet_right_sidebar",TAB_LOAD_INDICATOR:"tab_load_indicator",TOP_SECTION:"timeline_top_section",PREFIX_MAIN_COLUMN_PERSONAL:"pagelet_main_column_personal_"};},null);
__d("ProfileTabConst",[],function(a,b,c,d,e,f){e.exports={ALL_ACTIVITY:"allactivity",APPROVAL:"approve",APPS:"apps",BOXES:"box_3",COMMERCE:"commerce",DEALS:"deals",DRAFT_NOTES:"notes_drafts",EVENTS:"events",FAVORITES:"favorites",FOLLOWERS:"followers",FOLLOWING:"following",FRIENDS:"friends",FRIENDS_MUTUAL:"friends_mutual",GROUPS:"groups",INBOX_MESSAGES:"messages_inbox",INFO:"info",LIKES:"likes",LOCATIONS:"locations",MAP:"map",MESSAGES:"messages",NEARBY:"nearby",NOTES:"notes",OTHER_MESSAGES:"messages_other",OVERVIEW:"about",PAST_EVENTS:"pe",PHOTOS:"photos",PHOTOS_ALBUM:"media_set",PHOTOS_ALBUMS:"photos_albums",PHOTOS_STREAM:"photos_stream",PHOTOS_SYNCED:"photos_synced",POSTS:"posts",POSTS_OTHERS:"posts_to_page",RESUME:"resume",REVIEWS:"reviews",SAVED_FOR_LATER:"saved",SPORTS:"sports",TAGGED_NOTES:"notes_tagged",TIMELINE:"timeline",VIDEOS:"videos",WALL:"wall",WALL_ADMIN:"wall_admin",WIKIPEDIA:"wiki",PAGE_GETTING_STARTED:"page_getting_started",PAGE_MAP:"page_map",PAGE_MENU:"menu",PAGE_PRODUCTS:"products",PAGE_SERVICES:"services",PAGES_CONTENT_TAB:"content_tab",OG_APP_URL_PREFIX:"app_",OG_APPID_PREFIX:"og_app_",OG_NAMESPACE_PREFIX:"og_ns_",OG_BOOKS:"books",OG_FITNESS:"fitness",OG_GAMES:"games",OG_MOVIES:"movies",OG_MUSIC:"music",OG_NEWS:"news",OG_TV_SHOWS:"tv",OG_VIDEO:"video"};},null);
__d("EntStreamGroupMall",["DOM","$","ge"],function(a,b,c,d,e,f,g,h,i){var j={replacePager:function(k){g.setContent(h('pagelet_group_pager'),k);},replaceFilesPager:function(k,l){g.setContent(h('group_files_pager_'+l),k);},replacePostApprovalSection:function(k){var l=i('pagelet_consolidate_posts');if(l!==null)g.setContent(l,k);}};e.exports=j;},null);
__d("BookmarkFeedSorter",["Run"],function(a,b,c,d,e,f,g){var h,i={init:function(j){h=j;g.onLeave(function(){h=null;});},setChecked:function(j){if(h)h.setValue(j);}};e.exports=i;},null);
__d("OnVisible",["Arbiter","DOM","Event","Parent","Run","Vector","ViewportBounds","coalesce","copyProperties","queryThenMutateDOM"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=[],r,s=0,t=[],u,v,w,x,y;function z(){q.forEach(function(fa){fa.remove();});if(v){v.remove();u.remove();r.unsubscribe();v=u=r=null;}s=0;q.length=0;}function aa(){if(!q.length){z();return;}t.length=0;w=l.getScrollPosition().y;x=l.getViewportDimensions().y;y=m.getTop();for(var fa=0;fa<q.length;++fa){var ga=q[fa];if(isNaN(ga.elementHeight))t.push(fa);ga.elementHeight=l.getElementDimensions(ga.element).y;ga.elementPos=l.getElementPosition(ga.element);ga.hidden=j.byClass(ga.element,'hidden_elem');if(ga.scrollArea){ga.scrollAreaHeight=l.getElementDimensions(ga.scrollArea).y;ga.scrollAreaY=l.getElementPosition(ga.scrollArea).y;}}s=fa;}function ba(){for(var fa=Math.min(q.length,s)-1;fa>=0;--fa){var ga=q[fa];if(!ga.elementPos||ga.removed){q.splice(fa,1);continue;}if(ga.hidden)continue;var ha=w+x+ga.buffer,ia=false;if(ha>ga.elementPos.y){var ja=w+y-ga.buffer,ka=w+y+x+ga.buffer,la=ga.elementPos.y+ga.elementHeight,ma=!ga.strict||(ja<ga.elementPos.y&&ka>la);ia=ma;if(ia&&ga.scrollArea){var na=ga.scrollAreaY+ga.scrollAreaHeight+ga.buffer;ia=(ga.elementPos.y>ga.scrollAreaY-ga.buffer)&&(ga.elementPos.y<na);}}if(ga.inverse?!ia:ia){ga.remove();ga.handler(t.indexOf(fa)!==-1);}}}function ca(){da();if(q.length)return;v=i.listen(window,'scroll',da);u=i.listen(window,'resize',da);r=g.subscribe('dom-scroll',da);}function da(){p(aa,ba,'OnVisible/positionCheck');}function ea(fa,ga,ha,ia,ja,ka){"use strict";this.element=fa;this.handler=ga;this.strict=ha;this.buffer=n(ia,300);this.inverse=n(ja,false);this.scrollArea=ka||null;if(this.scrollArea)this.scrollAreaListener=this.$OnVisible0();if(q.length===0)k.onLeave(z);ca();q.push(this);}ea.prototype.remove=function(){"use strict";if(this.removed)return;this.removed=true;if(this.scrollAreaListener)this.scrollAreaListener.remove();};ea.prototype.reset=function(){"use strict";this.elementHeight=null;this.removed=false;if(this.scrollArea)this.scrollAreaListener=this.$OnVisible0();q.indexOf(this)===-1&&q.push(this);ca();};ea.prototype.setBuffer=function(fa){"use strict";this.buffer=fa;da();};ea.prototype.checkBuffer=function(){"use strict";da();};ea.prototype.getElement=function(){"use strict";return this.element;};ea.prototype.$OnVisible0=function(){"use strict";return i.listen(h.find(this.scrollArea,'.uiScrollableAreaWrap'),'scroll',this.checkBuffer);};o(ea,{checkBuffer:da});e.exports=ea;},null);
__d("ScrollingPager",["Arbiter","CSS","DOM","OnVisible","UIPagelet","$","copyProperties","ge"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o={};function p(q,r,s,t){"use strict";this.scroll_loader_id=q;this.pagelet_src=r;this.data=s;this.options=t||{};if(this.options.target_id){this.target_id=this.options.target_id;this.options.append=true;}else this.target_id=q;this.scroll_area_id=this.options.scroll_area_id;this.handler=null;}p.prototype.setBuffer=function(q){"use strict";this.options.buffer=q;this.onvisible&&this.onvisible.setBuffer(q);};p.prototype.getBuffer=function(){"use strict";return this.options.buffer;};p.prototype.register=function(){"use strict";this.onvisible=new j(l(this.scroll_loader_id),this.getHandler(),false,this.options.buffer,false,n(this.scroll_area_id));o[this.scroll_loader_id]=this;g.inform(p.REGISTERED,{id:this.scroll_loader_id});};p.prototype.getInstance=function(q){"use strict";return o[q];};p.prototype.getHandler=function(){"use strict";if(this.handler)return this.handler;function q(r){var s=n(this.scroll_loader_id);if(!s){this.onvisible.remove();return;}h.addClass(s.firstChild,'async_saving');var t=this.options.handler,u=this.options.force_remove_pager&&(this.scroll_loader_id!==this.target_id);this.options.handler=function(){g.inform('ScrollingPager/loadingComplete');t&&t.apply(null,arguments);if(u)i.remove(s);};if(r)this.data.pager_fired_on_init=true;k.loadFromEndpoint(this.pagelet_src,this.target_id,this.data,this.options);}return q.bind(this);};p.prototype.setHandler=function(q){"use strict";this.handler=q;};p.prototype.removeOnVisible=function(){"use strict";this.onvisible.remove();};p.prototype.checkBuffer=function(){"use strict";this.onvisible&&this.onvisible.checkBuffer();};p.getInstance=function(q){"use strict";return o[q];};m(p,{REGISTERED:'ScrollingPager/registered'});e.exports=p;},null);
__d("ProfileTabUtils",["ProfileTabConst"],function(a,b,c,d,e,f,g){var h={isActivityLogTab:function(i){return (i===g.ALL_ACTIVITY||i===g.APPROVAL);},isOverviewTab:function(i){return (i===g.INFO||i===g.OVERVIEW);},isTimelineTab:function(i){return (!i||i===g.TIMELINE||i===g.WALL);},tabHasFixedAds:function(i){return !this.isTimelineTab(i);},tabHasScrubber:function(i){return (this.isTimelineTab(i)||this.isActivityLogTab(i));}};h.tabHasStickyHeader=h.isTimelineTab;e.exports=h;},null);
__d("ProfileNavRef",["LinkController","Parent","URI"],function(a,b,c,d,e,f,g,h,i){var j='pnref',k='data-'+j,l=false;function m(n){var o=[];n=h.byAttribute(n,k);while(n){o.unshift(n.getAttribute(k));n=h.byAttribute(n.parentNode,k);}return o.join('.');}f.track=function(){if(l)return;l=true;g.registerHandler(function(n){var o=m(n);if(o)n.href=new i(n.href).addQueryData(j,o).toString();});};},null);
__d("TimelineComponentKeys",["ImmutableObject"],function(a,b,c,d,e,f,g){var h=new g({ADS:'ads',ASYNC_NAV:'async_nav',CONTENT:'content',COVER_NAV:'cover_nav',ESCAPE_HATCH:'escape_hatch',LOGGING:'logging',NAV:'nav',SCRUBBER:'scrubber',STICKY_HEADER:'sticky_header',STICKY_HEADER_NAV:'sticky_header_nav'});e.exports=h;},null);
__d("TimelineConstants",[],function(a,b,c,d,e,f){var g={DS_HEIGHT:'timeline-unit-height',DS_LOADED:'timeline-capsule-loaded',DS_SIDEORG:'timeline-unit-sideorg',DS_TAILBALANCE:'timeline-capsule-tailbalance',DS_COLUMN_HEIGHT_DIFFERENTIAL:'timeline-column-diff-height',FIXED_SIDE_LEFT:'left',FIXED_SIDE_RIGHT:'right',FIXED_SIDE_BOTH:'both',FIXED_SIDE_NONE:'none',SCROLL_TO_OFFSET:100,SCRUBBER_DEFAULT_OFFSET:38,SECTION_LOADING:'TimelineConstants/sectionLoading',SECTION_LOADED:'TimelineConstants/sectionLoaded',SECTION_FULLY_LOADED:'TimelineConstants/sectionFullyLoaded',SECTION_REGISTERED:'TimelineConstants/sectionRegistered'};e.exports=g;},null);
__d("TimelineLegacySections",[],function(a,b,c,d,e,f){var g={},h={get:function(i){return g[i]||{};},getAll:function(){return g;},remove:function(i){delete g[i];},removeAll:function(){g={};},set:function(i,j){g[i]=j;}};e.exports=h;},null);
__d("TimelineController",["Arbiter","CSS","DataStore","DOM","DOMQuery","Event","ProfileDOMID","ProfileNavRef","ProfileTabConst","ProfileTabUtils","Run","ScrollingPager","TidyArbiter","TimelineComponentKeys","TimelineConstants","TimelineLegacySections","TinyViewport","Vector","ViewportBounds","$","csx","forEachObject","ge","queryThenMutateDOM","tidyEvent"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea){var fa=358,ga=48,ha=740,ia=1285,ja='top',ka='paddingTop',la='paddingTop',ma=null,na=false,oa,pa,qa={},ra={},sa=[],ta=null,ua=false,va=false,wa=false,xa=0,ya=false,za=false,ab=false;function bb(ob,pb,qb){qb=qb||[];if(qa[ob])return qa[ob][pb].apply(qa[ob],qb);ra[ob]=ra[ob]||{};ra[ob][pb]=qb;return false;}function cb(){if(ya)ya=hb(ca('rightCol'),la,nb.getCurrentScrubber());if(za)za=hb(z(m.ABOVE_HEADER_TIMELINE),ja);if(ab)ab=hb(j.find(document,"div._4f7n"),ka);}var db=0;function eb(){db=x.getScrollPosition();}function fb(){var ob=xa===0||db.y>=xa;cb();if(p.tabHasStickyHeader(ma))bb(t.STICKY_HEADER,'toggle',[ob]);bb(t.CONTENT,'checkCurrentSectionChange');}function gb(){da(eb,fb,'TimelineController/scrollListener');}function hb(ob,pb,qb){if(!ob)return false;if(db.y<=0){ib(ob,pb);return false;}if(qb&&h.hasClass(qb.getRoot(),'fixed_elem')){ib(ob,pb);return false;}var rb=parseInt(ob.style[pb],10)||0;if(db.y<rb){h.addClass(ob,'timeline_fixed');ob.style[pb]=db.y+'px';}else h.removeClass(ob,'timeline_fixed');return true;}function ib(ob,pb){ob.style[pb]='0px';h.removeClass(ob,'timeline_fixed');}function jb(){da(nb.shouldShowWideAds,function(){bb(t.ADS,'adjustAdsType',[ua]);bb(t.ADS,'adjustAdsToFit');bb(t.STICKY_HEADER_NAV,'adjustMenuHeights');},'TimelineController/resize');}function kb(ob,pb){if(ob==='sidebar/initialized')wa=true;bb(t.ADS,'adjustAdsType',[nb.shouldShowWideAds()]);}function lb(event,ob){var pb=x.getScrollPosition();ob=Math.min(ob,pb.y);var qb=ca('rightCol');if(qb){qb.style[la]=ob+'px';ya=true;}var rb=z(m.ABOVE_HEADER_TIMELINE);if(rb.firstChild){var sb=z(m.ABOVE_HEADER_TIMELINE_PLACEHOLDER);sb.style.height=rb.offsetHeight+'px';rb.style[ja]=ob+'px';za=true;}ab=w.isTiny();if(ab)j.find(document,"div._4f7n").style[ka]=ob+'px';g.inform('reflow');}function mb(){while(sa.length)sa.pop().remove();ba(qa,function(qb,rb){qb.reset&&qb.reset();});pa.unsubscribe();pa=null;ma=null;oa=null;qa={};ra={};ta=null;wa=false;na=false;xa=0;za=false;if(ya){var ob=ca('rightCol');if(ob)ib(ob,la);}ya=false;if(ab){var pb=j.find(document,"div._4f7n");ib(pb,ka);ab=false;}i.purge(u.DS_HEIGHT);i.purge(u.DS_LOADED);i.purge(u.DS_SIDEORG);i.purge(u.DS_TAILBALANCE);i.purge(u.DS_COLUMN_HEIGHT_DIFFERENTIAL);}var nb={init:function(ob,pb,qb){if(na)return;if(p.isTimelineTab(pb))pb=o.TIMELINE;na=true;oa=ob;va=qb.is_rhc_redesign;sa.push(l.listen(window,'scroll',gb),l.listen(window,'resize',jb));pa=g.subscribe(['sidebar/initialized','sidebar/show','sidebar/hide','minisidebar/show'],kb);ea(s.subscribe('TimelineCover/coverCollapsed',lb));if(qb.track_profile_nav_ref)n.track();q.onLeave(mb);nb.registerCurrentKey(pb);},setAdsTracking:function(ob){bb(t.ADS,'start',[ob]);},registerCurrentKey:function(ob){ma=ob;ta=ob!==o.MAP&&x.getViewportDimensions().y<ha&&p.tabHasScrubber(ob);var pb=j.find(document,"div._4f7n");ta=ta||pb.offsetTop;bb(t.ADS,'setShortMode',[ta]);bb(t.ADS,'updateCurrentKey',[ob]);bb(t.COVER_NAV,'handleTabChange',[ob]);bb(t.SCRUBBER,'handleTabChange',[ob]);bb(t.ESCAPE_HATCH,'handleTabChange',[ob]);xa=p.isTimelineTab(ob)?fa-ga:0;bb(t.STICKY_HEADER,'handleTabChange',[ob]);gb();},getCurrentKey:function(){return ma;},getCurrentScrubber:function(){return qa[t.SCRUBBER];},getCurrentStickyHeaderNav:function(){return qa[t.STICKY_HEADER_NAV];},scrubberHasLoaded:function(ob){h.conditionClass(ob.getRoot(),'fixed_elem',!ta);bb(t.ADS,'registerScrubber',[ob]);},scrubberHasChangedState:function(){bb(t.ADS,'adjustAdsToFit');},scrubberWasClicked:function(ob){bb(t.LOGGING,'logScrubberClick',[ob]);},stickyHeaderNavWasClicked:function(ob){bb(t.LOGGING,'logStickyHeaderNavClick',[ob]);},sectionHasChanged:function(ob,pb){var qb=[ob,pb];bb(t.STICKY_HEADER_NAV,'updateSection',qb);bb(t.SCRUBBER,'updateSection',qb);bb(t.ADS,'loadAdsIfEnoughTimePassed');bb(t.LOGGING,'logSectionChange',qb);},navigateToSection:function(ob){bb(t.CONTENT,'navigateToSection',[ob]);},shouldShowWideAds:function(){if(!wa||va){ua=false;}else{var ob=ia+y.getRight()+y.getLeft();ua=x.getViewportDimensions().x>=ob;}return ua;},sidebarInitialized:function(){return wa;},adjustStickyHeaderWidth:function(){bb(t.STICKY_HEADER,'adjustWidth');},hideStickyHeaderNavSectionMenu:function(){bb(t.STICKY_HEADER_NAV,'hideSectionMenu');},register:function(ob,pb){qa[ob]=pb;if(ra[ob]){ba(ra[ob],function(qb,rb){bb(ob,rb,qb);});delete ra[ob];}},adjustScrollingPagerBuffer:function(ob,pb){var qb=i.get(u.DS_COLUMN_HEIGHT_DIFFERENTIAL,pb);if(qb){var rb=r.getInstance(ob);rb&&rb.setBuffer(rb.getBuffer()+Math.abs(qb));}},runOnceWhenSectionFullyLoaded:function(ob,pb,qb){var rb=v.get(pb),sb=false;if(rb){var tb=k.scry(rb.node,'.fbTimelineCapsule');sb=tb.some(function(vb){var wb=i.get(u.DS_LOADED,vb.id);if(parseInt(wb,10)>=parseInt(qb,10)){ob();return true;}});}if(!sb)var ub=g.subscribe(u.SECTION_FULLY_LOADED,function(vb,wb){if(wb.scrubberKey===pb&&wb.pageIndex===qb){ob();ub.unsubscribe();}});}};e.exports=nb;},null);
__d("TimelineSmartInsert",["Run","UserAgent_DEPRECATED","Vector"],function(a,b,c,d,e,f,g,h,i){var j=100;function k(q){if(q==='viewport')return i.getViewportDimensions().y;return q;}var l=false,m=false;function n(){if(m)return;g.onLeave(o);m=true;}function o(){l=false;m=false;}var p={run:function(q,r,s){n();if(!l||h.ie()<=8){r();return;}var t=q.offsetHeight;r();var u=q.offsetHeight,v=i.getScrollPosition().y,w=i.getElementPosition(q).y;if(u!==t&&w<v&&w+t<v+k(s||j))window.scrollBy(0,u-t);},enable:function(){l=true;}};e.exports=p;},null);
__d("legacy:ui-scrolling-pager-js",["ScrollingPager"],function(a,b,c,d){a.ScrollingPager=b('ScrollingPager');},3);